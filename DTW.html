
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dynamic Time Wrapping &#8212; Welcome to Amelia&#39;s Jupyter Book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'DTW';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Sistem Identifikasi Suara" href="2uservoicerecording.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/amelia.jpg" class="logo__image only-light" alt="Welcome to Amelia's Jupyter Book - Home"/>
    <script>document.write(`<img src="_static/amelia.jpg" class="logo__image only-dark" alt="Welcome to Amelia's Jupyter Book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to Ameliaâ€™s Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Business_Problem.html">Business Problem</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Data_Understanding.html">Data Understanding</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="Eksplorasi_Data.html">Eksplorasi Data</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="Transformasi_Data.html">Transformasi Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Anomaly_Detection.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Penyeimbangan_dataset.html">Penyeimbangan dataset (SMOTE, ADASYN)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="timeseries.html">Time Series Dataset untuk Prediksi</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="Deploy_Timeseries.html">DEPLOYMENT SYSTEM TIMESERIES</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy_suara.html">Deploy Identifikasi Suara Buka dan    Tutup</a></li>
<li class="toctree-l2"><a class="reference internal" href="2uservoicerecording.html">Sistem Identifikasi Suara</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Dynamic Time Wrapping</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FDTW.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/DTW.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Dynamic Time Wrapping</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library-dan-set-path">Import Library dan Set Path</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-extrac-dan-dtw">Fungsi extrac dan DTW</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collect-data-lama-dan-ekstrak-mfcc">Collect data lama dan ekstrak mfcc</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-dtw">Perhitungan DTW</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kemiripan-data-lama-dan-baru">Kemiripan data lama dan baru</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi">Visualisasi</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="dynamic-time-wrapping">
<h1>Dynamic Time Wrapping<a class="headerlink" href="#dynamic-time-wrapping" title="Link to this heading">#</a></h1>
<section id="import-library-dan-set-path">
<h2>Import Library dan Set Path<a class="headerlink" href="#import-library-dan-set-path" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>

<span class="n">SR</span> <span class="o">=</span> <span class="mi">22050</span>
<span class="n">N_MFCC</span> <span class="o">=</span> <span class="mi">13</span>

<span class="c1"># === SESUAIKAN DENGAN STRUKTUR ZIP ===</span>
<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;/mnt/data/databukatutup&#39;</span>  <span class="c1"># ROOT dari ZIP kamu</span>

<span class="n">OLD_DIRS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;buka_user1&#39;</span> <span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;user 1/buka&#39;</span><span class="p">),</span>
    <span class="s1">&#39;tutup_user1&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;user 1/tutup&#39;</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1"># === FILE BARU (rekaman baru) ===</span>
<span class="c1"># Pastikan file ini ada dalam folder databukatutup/</span>
<span class="n">NEW_FILES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;buka_baru&quot;</span><span class="p">:</span>  <span class="s2">&quot;rekaman_buka_tutup/bukabaru.wav&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tutup_baru&quot;</span><span class="p">:</span> <span class="s2">&quot;rekaman_buka_tutup/tutupbaru.wav&quot;</span>
<span class="p">}</span>

<span class="n">OUT_CSV</span> <span class="o">=</span> <span class="s1">&#39;dtw_results.csv&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;librosa&#39;
</pre></div>
</div>
</div>
</div>
<p>Secara spesifik, kode ini bertujuan untuk:</p>
<ol class="arabic simple">
<li><p>Ekstraksi Fitur MFCC: Menggunakan library librosa untuk mengekstrak <span class="math notranslate nohighlight">\(13\)</span> koefisien MFCC (<span class="math notranslate nohighlight">\(\text{N\_MFCC}=13\)</span>) dari setiap file audio. MFCCs adalah representasi kompak dari spektrum daya suara, yang sering digunakan dalam pengenalan ucapan dan analisis audio.</p></li>
<li><p>Perbandingan Kesamaan Audio (DTW): Menggunakan Dynamic Time Warping (DTW) untuk menghitung jarak optimal (biaya optimal) antara urutan fitur MFCC dari audio lama dan audio baru. DTW adalah algoritma yang memungkinkan perbandingan dua urutan yang berbeda dalam kecepatan atau laju (misalnya, dua rekaman kata yang sama tetapi diucapkan dengan kecepatan berbeda).</p>
<ul class="simple">
<li><p>Jarak DTW yang lebih kecil menunjukkan rekaman audio lebih mirip.</p></li>
</ul>
</li>
<li><p>Organisasi Hasil: Menyimpan hasil perbandingan (nama file lama, kategori lama, nama file baru, kategori baru, dan nilai jarak DTW) ke dalam struktur data pandas.DataFrame dan kemudian mengekspornya ke file dtw_results.csv.</p></li>
</ol>
</section>
<section id="fungsi-extrac-dan-dtw">
<h2>Fungsi extrac dan DTW<a class="headerlink" href="#fungsi-extrac-dan-dtw" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">SR</span> <span class="o">=</span> <span class="mi">22050</span>
<span class="n">N_MFCC</span> <span class="o">=</span> <span class="mi">13</span>

<span class="c1"># Path folder audio sesuai ZIP databukatutup</span>
<span class="n">OLD_DIRS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;buka&#39;</span> <span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;/mnt/data/databukatutup/user 1/buka&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tutup&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;/mnt/data/databukatutup/user 1/tutup&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Path file audio baru (pastikan filenya ada!)</span>
<span class="n">NEW_FILES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;buka_baru&#39;</span>  <span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;/mnt/data/databukatutup/bukabaru.wav&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tutup_baru&#39;</span> <span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;/mnt/data/databukatutup/tutupbaru.wav&#39;</span>
<span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">extract_mfcc</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">SR</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">N_MFCC</span><span class="p">):</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">mono</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">mfcc</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">mfcc</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">n_mfcc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mfcc</span>

<span class="k">def</span><span class="w"> </span><span class="nf">dtw_distance</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">):</span>
    <span class="n">D</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">sequence</span><span class="o">.</span><span class="n">dtw</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">m1</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">m2</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">metric</span><span class="p">)</span>
    <span class="n">raw</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">path_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wp</span><span class="p">)</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">raw</span> <span class="o">/</span> <span class="n">path_len</span> <span class="k">if</span> <span class="n">path_len</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">raw</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">norm</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">path_len</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Berikut adalah rincian tujuan utama berdasarkan fungsi dan variabel yang didefinisikan:</p>
<ol class="arabic simple">
<li><p>Ekstraksi Fitur Audio (<span class="math notranslate nohighlight">\(\text{MFCC}\)</span>)</p></li>
</ol>
<ul class="simple">
<li><p>Tujuan: Untuk mengubah sinyal audio mentah menjadi representasi numerik yang ringkas dan informatif, yang dikenal sebagai MFCCs (Mel-Frequency Cepstral Coefficients).</p></li>
<li><p>Implementasi: Fungsi extract_mfcc menggunakan librosa.</p>
<ul>
<li><p>Audio dimuat dengan laju sampel (SR) <span class="math notranslate nohighlight">\(22050 \text{ Hz}\)</span>.</p></li>
<li><p>Setiap file audio diubah menjadi matriks fitur <span class="math notranslate nohighlight">\(\text{MFCC}\)</span> dengan <span class="math notranslate nohighlight">\(13\)</span> koefisien (<span class="math notranslate nohighlight">\(\text{N\_MFCC}=13\)</span>). Fitur ini menangkap karakteristik spektral penting dari suara manusia.</p></li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Pengukuran Kesamaan Audio (DTW)</p></li>
</ol>
<ul class="simple">
<li><p>Tujuan: Untuk menghitung seberapa mirip dua urutan fitur <span class="math notranslate nohighlight">\(\text{MFCC}\)</span> (yang berasal dari dua rekaman audio yang berbeda) meskipun memiliki variasi dalam durasi atau kecepatan pengucapan.</p></li>
<li><p>Implementasi: Fungsi dtw_distance menggunakan librosa.sequence.dtw.</p>
<ul>
<li><p>Algoritma Dynamic Time Warping (DTW) menemukan jalur perutean optimal antara dua matriks <span class="math notranslate nohighlight">\(\text{MFCC}\)</span> (<span class="math notranslate nohighlight">\(m1\)</span> dan <span class="math notranslate nohighlight">\(m2\)</span>).</p></li>
<li><p>Fungsi ini mengembalikan tiga metrik jarak:</p>
<ul>
<li><p>raw: Jarak total/biaya akumulasi (nilai <span class="math notranslate nohighlight">\(D[-1, -1]\)</span>).- norm: Jarak yang dinormalisasi (dibagi dengan panjang jalur DTW), yang memberikan ukuran kesamaan yang lebih adil, terlepas dari perbedaan durasi rekaman.</p></li>
<li><p>path_len: Panjang jalur perutean optimal yang ditemukan.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="collect-data-lama-dan-ekstrak-mfcc">
<h2>Collect data lama dan ekstrak mfcc<a class="headerlink" href="#collect-data-lama-dan-ekstrak-mfcc" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">def</span><span class="w"> </span><span class="nf">walk_all</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="s2">&quot;/mnt/data&quot;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PATH :&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; DIRS:&quot;</span><span class="p">,</span> <span class="n">dirs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; FILES:&quot;</span><span class="p">,</span> <span class="n">files</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>

<span class="n">walk_all</span><span class="p">(</span><span class="s2">&quot;/mnt/data&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari kode Python yang Anda berikan adalah untuk menelusuri secara rekursif (berulang) seluruh struktur direktori mulai dari direktori yang ditentukan (/mnt/data dalam kasus ini) dan mencetak konten dari setiap direktori yang ditemukan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/mnt&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
[&#39;opt&#39;, &#39;libx32&#39;, &#39;tmp&#39;, &#39;proc&#39;, &#39;dev&#39;, &#39;bin&#39;, &#39;mnt&#39;, &#39;root&#39;, &#39;srv&#39;, &#39;home&#39;, &#39;var&#39;, &#39;etc&#39;, &#39;sbin&#39;, &#39;usr&#39;, &#39;boot&#39;, &#39;sys&#39;, &#39;lib32&#39;, &#39;lib64&#39;, &#39;media&#39;, &#39;lib&#39;, &#39;run&#39;, &#39;kaggle&#39;, &#39;content&#39;, &#39;.dockerenv&#39;, &#39;datalab&#39;, &#39;tools&#39;, &#39;python-apt&#39;, &#39;python-apt.tar.xz&#39;, &#39;NGC-DL-CONTAINER-LICENSE&#39;, &#39;cuda-keyring_1.1-1_all.deb&#39;]
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari kode Python yang Anda berikan adalah untuk mencantumkan isi (file dan direktori) dari dua direktori akar pada sistem berkas:</p>
<ol class="arabic simple">
<li><p>Direktori /mnt</p></li>
<li><p>Direktori / (akar sistem)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">files</span>
<span class="n">uploaded</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
     <input type="file" id="files-199f21af-dcf4-4a6f-9ee5-360375b9547c" name="files[]" multiple disabled
        style="border:none" />
     <output id="result-199f21af-dcf4-4a6f-9ee5-360375b9547c">
      Upload widget is only available when the cell has been executed in the
      current browser session. Please rerun this cell to enable.
      </output>
      <script>// Copyright 2017 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * @fileoverview Helpers for google.colab Python module.
 */
(function(scope) {
function span(text, styleAttributes = {}) {
  const element = document.createElement('span');
  element.textContent = text;
  for (const key of Object.keys(styleAttributes)) {
    element.style[key] = styleAttributes[key];
  }
  return element;
}

// Max number of bytes which will be uploaded at a time.
const MAX_PAYLOAD_SIZE = 100 * 1024;

function _uploadFiles(inputId, outputId) {
  const steps = uploadFilesStep(inputId, outputId);
  const outputElement = document.getElementById(outputId);
  // Cache steps on the outputElement to make it available for the next call
  // to uploadFilesContinue from Python.
  outputElement.steps = steps;

  return _uploadFilesContinue(outputId);
}

// This is roughly an async generator (not supported in the browser yet),
// where there are multiple asynchronous steps and the Python side is going
// to poll for completion of each step.
// This uses a Promise to block the python side on completion of each step,
// then passes the result of the previous step as the input to the next step.
function _uploadFilesContinue(outputId) {
  const outputElement = document.getElementById(outputId);
  const steps = outputElement.steps;

  const next = steps.next(outputElement.lastPromiseValue);
  return Promise.resolve(next.value.promise).then((value) => {
    // Cache the last promise value to make it available to the next
    // step of the generator.
    outputElement.lastPromiseValue = value;
    return next.value.response;
  });
}

/**
 * Generator function which is called between each async step of the upload
 * process.
 * @param {string} inputId Element ID of the input file picker element.
 * @param {string} outputId Element ID of the output display.
 * @return {!Iterable<!Object>} Iterable of next steps.
 */
function* uploadFilesStep(inputId, outputId) {
  const inputElement = document.getElementById(inputId);
  inputElement.disabled = false;

  const outputElement = document.getElementById(outputId);
  outputElement.innerHTML = '';

  const pickedPromise = new Promise((resolve) => {
    inputElement.addEventListener('change', (e) => {
      resolve(e.target.files);
    });
  });

  const cancel = document.createElement('button');
  inputElement.parentElement.appendChild(cancel);
  cancel.textContent = 'Cancel upload';
  const cancelPromise = new Promise((resolve) => {
    cancel.onclick = () => {
      resolve(null);
    };
  });

  // Wait for the user to pick the files.
  const files = yield {
    promise: Promise.race([pickedPromise, cancelPromise]),
    response: {
      action: 'starting',
    }
  };

  cancel.remove();

  // Disable the input element since further picks are not allowed.
  inputElement.disabled = true;

  if (!files) {
    return {
      response: {
        action: 'complete',
      }
    };
  }

  for (const file of files) {
    const li = document.createElement('li');
    li.append(span(file.name, {fontWeight: 'bold'}));
    li.append(span(
        `(${file.type || 'n/a'}) - ${file.size} bytes, ` +
        `last modified: ${
            file.lastModifiedDate ? file.lastModifiedDate.toLocaleDateString() :
                                    'n/a'} - `));
    const percent = span('0% done');
    li.appendChild(percent);

    outputElement.appendChild(li);

    const fileDataPromise = new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        resolve(e.target.result);
      };
      reader.readAsArrayBuffer(file);
    });
    // Wait for the data to be ready.
    let fileData = yield {
      promise: fileDataPromise,
      response: {
        action: 'continue',
      }
    };

    // Use a chunked sending to avoid message size limits. See b/62115660.
    let position = 0;
    do {
      const length = Math.min(fileData.byteLength - position, MAX_PAYLOAD_SIZE);
      const chunk = new Uint8Array(fileData, position, length);
      position += length;

      const base64 = btoa(String.fromCharCode.apply(null, chunk));
      yield {
        response: {
          action: 'append',
          file: file.name,
          data: base64,
        },
      };

      let percentDone = fileData.byteLength === 0 ?
          100 :
          Math.round((position / fileData.byteLength) * 100);
      percent.textContent = `${percentDone}% done`;

    } while (position < fileData.byteLength);
  }

  // All done.
  yield {
    response: {
      action: 'complete',
    }
  };
}

scope.google = scope.google || {};
scope.google.colab = scope.google.colab || {};
scope.google.colab._files = {
  _uploadFiles,
  _uploadFilesContinue,
};
})(self);
</script> </div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Saving user 1.zip to user 1 (2).zip
Saving user2.zip to user2 (2).zip
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;.config&#39;, &#39;user2 (2).zip&#39;, &#39;user2.zip&#39;, &#39;user 1 (1).zip&#39;, &#39;user 1 (2).zip&#39;, &#39;dtw_results.csv&#39;, &#39;rekaman_buka_tutup&#39;, &#39;user 1.zip&#39;, &#39;user2 (1).zip&#39;, &#39;sample_data&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">zip_path</span> <span class="o">=</span> <span class="s2">&quot;user 1.zip&quot;</span>
<span class="n">zip_path</span> <span class="o">=</span> <span class="s2">&quot;user2.zip&quot;</span>   <span class="c1"># nama file ZIP kamu</span>
<span class="n">extract_path</span> <span class="o">=</span> <span class="s2">&quot;rekaman_buka_tutup&quot;</span>  <span class="c1"># folder tujuan ekstraksi</span>

<span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">extract_path</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Isi folder rekaman_buka_tutup:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">extract_path</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Isi folder rekaman_buka_tutup:
[&#39;user2&#39;, &#39;user 1&#39;]
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari kode Python tersebut adalah untuk mengekstrak (mengeluarkan) seluruh konten dari file ZIP yang ditentukan ke dalam folder tujuan yang baru dibuat (jika belum ada).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s2">&quot;rekaman_buka_tutup&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PATH :&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DIRS :&quot;</span><span class="p">,</span> <span class="n">dirs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FILES:&quot;</span><span class="p">,</span> <span class="n">files</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PATH : rekaman_buka_tutup
DIRS : [&#39;user2&#39;, &#39;user 1&#39;]
FILES: []
--------------------------------------------------
PATH : rekaman_buka_tutup/user2
DIRS : [&#39;buka&#39;, &#39;tutup&#39;]
FILES: []
--------------------------------------------------
PATH : rekaman_buka_tutup/user2/buka
DIRS : []
FILES: [&#39;buka1 (73).wav&#39;, &#39;buka1 (86).wav&#39;, &#39;buka1 (5).wav&#39;, &#39;buka1 (70).wav&#39;, &#39;buka1 (4).wav&#39;, &#39;buka1 (14).wav&#39;, &#39;buka1 (44).wav&#39;, &#39;buka1 (88).wav&#39;, &#39;buka1 (79).wav&#39;, &#39;buka1 (50).wav&#39;, &#39;buka1 (12).wav&#39;, &#39;buka1 (67).wav&#39;, &#39;buka1 (18).wav&#39;, &#39;buka1 (71).wav&#39;, &#39;buka1 (96).wav&#39;, &#39;buka1 (8).wav&#39;, &#39;buka1 (43).wav&#39;, &#39;buka1 (28).wav&#39;, &#39;buka1 (26).wav&#39;, &#39;buka1 (40).wav&#39;, &#39;buka1 (3).wav&#39;, &#39;buka1 (41).wav&#39;, &#39;buka1 (61).wav&#39;, &#39;buka1 (92).wav&#39;, &#39;buka1 (32).wav&#39;, &#39;buka1 (9).wav&#39;, &#39;buka1 (55).wav&#39;, &#39;buka1 (10).wav&#39;, &#39;buka1 (21).wav&#39;, &#39;buka1 (7).wav&#39;, &#39;buka1 (98).wav&#39;, &#39;buka1 (15).wav&#39;, &#39;buka1 (94).wav&#39;, &#39;buka1 (34).wav&#39;, &#39;buka1 (74).wav&#39;, &#39;buka1 (66).wav&#39;, &#39;buka1 (1).wav&#39;, &#39;buka1 (53).wav&#39;, &#39;buka1 (35).wav&#39;, &#39;buka1 (29).wav&#39;, &#39;buka1 (48).wav&#39;, &#39;buka1 (91).wav&#39;, &#39;buka1 (24).wav&#39;, &#39;buka1 (25).wav&#39;, &#39;buka1 (16).wav&#39;, &#39;buka1 (56).wav&#39;, &#39;buka1 (13).wav&#39;, &#39;buka1 (42).wav&#39;, &#39;buka1 (54).wav&#39;, &#39;buka1 (75).wav&#39;, &#39;buka1 (27).wav&#39;, &#39;buka1 (83).wav&#39;, &#39;buka1 (59).wav&#39;, &#39;buka1 (68).wav&#39;, &#39;buka1 (11).wav&#39;, &#39;buka1 (19).wav&#39;, &#39;buka1 (39).wav&#39;, &#39;buka1 (52).wav&#39;, &#39;buka1 (97).wav&#39;, &#39;buka1 (30).wav&#39;, &#39;buka1 (69).wav&#39;, &#39;buka1 (78).wav&#39;, &#39;buka1 (93).wav&#39;, &#39;buka1 (51).wav&#39;, &#39;buka1 (45).wav&#39;, &#39;buka1 (2).wav&#39;, &#39;buka1 (17).wav&#39;, &#39;buka1 (84).wav&#39;, &#39;buka1 (90).wav&#39;, &#39;buka1 (77).wav&#39;, &#39;buka1 (6).wav&#39;, &#39;buka1 (47).wav&#39;, &#39;buka1 (63).wav&#39;, &#39;buka1 (80).wav&#39;, &#39;buka1 (33).wav&#39;, &#39;buka1 (60).wav&#39;, &#39;buka1 (37).wav&#39;, &#39;buka1 (95).wav&#39;, &#39;buka1 (87).wav&#39;, &#39;buka1 (31).wav&#39;, &#39;buka1 (65).wav&#39;, &#39;buka1 (36).wav&#39;, &#39;buka1 (46).wav&#39;, &#39;buka1 (62).wav&#39;, &#39;buka1 (81).wav&#39;, &#39;buka1 (85).wav&#39;, &#39;buka1 (100).wav&#39;, &#39;buka1 (57).wav&#39;, &#39;buka1 (64).wav&#39;, &#39;buka1 (76).wav&#39;, &#39;buka1 (99).wav&#39;, &#39;buka1 (23).wav&#39;, &#39;buka1 (82).wav&#39;, &#39;buka1 (38).wav&#39;, &#39;buka1 (89).wav&#39;, &#39;buka1 (49).wav&#39;, &#39;buka1 (58).wav&#39;, &#39;buka1 (20).wav&#39;, &#39;buka1 (22).wav&#39;, &#39;buka1 (72).wav&#39;]
--------------------------------------------------
PATH : rekaman_buka_tutup/user2/tutup
DIRS : []
FILES: [&#39;tutup1 (17).wav&#39;, &#39;tutup1 (12).wav&#39;, &#39;tutup1 (62).wav&#39;, &#39;tutup1 (47).wav&#39;, &#39;tutup1 (95).wav&#39;, &#39;tutup1 (48).wav&#39;, &#39;tutup1 (51).wav&#39;, &#39;tutup1 (66).wav&#39;, &#39;tutup1 (22).wav&#39;, &#39;tutup1 (4).wav&#39;, &#39;tutup1 (5).wav&#39;, &#39;tutup1 (75).wav&#39;, &#39;tutup1 (92).wav&#39;, &#39;tutup1 (72).wav&#39;, &#39;tutup1 (40).wav&#39;, &#39;tutup1 (46).wav&#39;, &#39;tutup1 (24).wav&#39;, &#39;tutup1 (73).wav&#39;, &#39;tutup1 (30).wav&#39;, &#39;tutup1 (21).wav&#39;, &#39;tutup1 (99).wav&#39;, &#39;tutup1 (58).wav&#39;, &#39;tutup1 (90).wav&#39;, &#39;tutup1 (14).wav&#39;, &#39;tutup1 (56).wav&#39;, &#39;tutup1 (39).wav&#39;, &#39;tutup1 (61).wav&#39;, &#39;tutup1 (45).wav&#39;, &#39;tutup1 (65).wav&#39;, &#39;tutup1 (93).wav&#39;, &#39;tutup1 (38).wav&#39;, &#39;tutup1 (88).wav&#39;, &#39;tutup1 (57).wav&#39;, &#39;tutup1 (80).wav&#39;, &#39;tutup1 (68).wav&#39;, &#39;tutup1 (53).wav&#39;, &#39;tutup1 (18).wav&#39;, &#39;tutup1 (15).wav&#39;, &#39;tutup1 (49).wav&#39;, &#39;tutup1 (83).wav&#39;, &#39;tutup1 (27).wav&#39;, &#39;tutup1 (25).wav&#39;, &#39;tutup1 (54).wav&#39;, &#39;tutup1 (96).wav&#39;, &#39;tutup1 (63).wav&#39;, &#39;tutup1 (89).wav&#39;, &#39;tutup1 (33).wav&#39;, &#39;tutup1 (52).wav&#39;, &#39;tutup1 (35).wav&#39;, &#39;tutup1 (9).wav&#39;, &#39;tutup1 (91).wav&#39;, &#39;tutup1 (10).wav&#39;, &#39;tutup1 (86).wav&#39;, &#39;tutup1 (67).wav&#39;, &#39;tutup1 (26).wav&#39;, &#39;tutup1 (85).wav&#39;, &#39;tutup1 (6).wav&#39;, &#39;tutup1 (79).wav&#39;, &#39;tutup1 (84).wav&#39;, &#39;tutup1 (77).wav&#39;, &#39;tutup1 (100).wav&#39;, &#39;tutup1 (60).wav&#39;, &#39;tutup1 (97).wav&#39;, &#39;tutup1 (31).wav&#39;, &#39;tutup1 (94).wav&#39;, &#39;tutup1 (64).wav&#39;, &#39;tutup1 (71).wav&#39;, &#39;tutup1 (20).wav&#39;, &#39;tutup1 (87).wav&#39;, &#39;tutup1 (50).wav&#39;, &#39;tutup1 (76).wav&#39;, &#39;tutup1 (28).wav&#39;, &#39;tutup1 (81).wav&#39;, &#39;tutup1 (98).wav&#39;, &#39;tutup1 (29).wav&#39;, &#39;tutup1 (70).wav&#39;, &#39;tutup1 (13).wav&#39;, &#39;tutup1 (23).wav&#39;, &#39;tutup1 (78).wav&#39;, &#39;tutup1 (1).wav&#39;, &#39;tutup1 (55).wav&#39;, &#39;tutup1 (69).wav&#39;, &#39;tutup1 (82).wav&#39;, &#39;tutup1 (2).wav&#39;, &#39;tutup1 (32).wav&#39;, &#39;tutup1 (37).wav&#39;, &#39;tutup1 (44).wav&#39;, &#39;tutup1 (34).wav&#39;, &#39;tutup1 (19).wav&#39;, &#39;tutup1 (59).wav&#39;, &#39;tutup1 (3).wav&#39;, &#39;tutup1 (16).wav&#39;, &#39;tutup1 (11).wav&#39;, &#39;tutup1 (74).wav&#39;, &#39;tutup1 (7).wav&#39;, &#39;tutup1 (8).wav&#39;, &#39;tutup1 (36).wav&#39;, &#39;tutup1 (41).wav&#39;, &#39;tutup1 (42).wav&#39;, &#39;tutup1 (43).wav&#39;]
--------------------------------------------------
PATH : rekaman_buka_tutup/user 1
DIRS : [&#39;buka&#39;, &#39;tutup&#39;]
FILES: []
--------------------------------------------------
PATH : rekaman_buka_tutup/user 1/buka
DIRS : []
FILES: [&#39;Rekaman (99).wav&#39;, &#39;Rekaman (73).wav&#39;, &#39;Rekaman (68).wav&#39;, &#39;Rekaman (50).wav&#39;, &#39;Rekaman (67).wav&#39;, &#39;Rekaman (40).wav&#39;, &#39;Rekaman (81).wav&#39;, &#39;Rekaman (84).wav&#39;, &#39;Rekaman (45).wav&#39;, &#39;Rekaman (55).wav&#39;, &#39;Rekaman (21).wav&#39;, &#39;Rekaman (97).wav&#39;, &#39;Rekaman (94).wav&#39;, &#39;Rekaman (51).wav&#39;, &#39;Rekaman (23).wav&#39;, &#39;Rekaman (87).wav&#39;, &#39;Rekaman (90).wav&#39;, &#39;Rekaman (63).wav&#39;, &#39;Rekaman (30).wav&#39;, &#39;Rekaman (33).wav&#39;, &#39;Rekaman (46).wav&#39;, &#39;Rekaman (27).wav&#39;, &#39;Rekaman (89).wav&#39;, &#39;Rekaman (96).wav&#39;, &#39;Rekaman (47).wav&#39;, &#39;Rekaman (6).wav&#39;, &#39;Rekaman (88).wav&#39;, &#39;Rekaman (60).wav&#39;, &#39;Rekaman (86).wav&#39;, &#39;Rekaman (16).wav&#39;, &#39;Rekaman (83).wav&#39;, &#39;Rekaman (5).wav&#39;, &#39;Rekaman (15).wav&#39;, &#39;Rekaman (34).wav&#39;, &#39;Rekaman (41).wav&#39;, &#39;Rekaman (57).wav&#39;, &#39;Rekaman (38).wav&#39;, &#39;Rekaman (93).wav&#39;, &#39;Rekaman (95).wav&#39;, &#39;Rekaman (17).wav&#39;, &#39;Rekaman (13).wav&#39;, &#39;Rekaman (76).wav&#39;, &#39;Rekaman (75).wav&#39;, &#39;Rekaman (58).wav&#39;, &#39;Rekaman (65).wav&#39;, &#39;Rekaman (29).wav&#39;, &#39;Rekaman (18).wav&#39;, &#39;Rekaman (43).wav&#39;, &#39;Rekaman (92).wav&#39;, &#39;Rekaman (20).wav&#39;, &#39;Rekaman (70).wav&#39;, &#39;Rekaman (11).wav&#39;, &#39;Rekaman (44).wav&#39;, &#39;Rekaman (10).wav&#39;, &#39;Rekaman (42).wav&#39;, &#39;Rekaman (19).wav&#39;, &#39;Rekaman (85).wav&#39;, &#39;Rekaman (80).wav&#39;, &#39;Rekaman (74).wav&#39;, &#39;Rekaman (3).wav&#39;, &#39;Rekaman (53).wav&#39;, &#39;Rekaman (25).wav&#39;, &#39;Rekaman (14).wav&#39;, &#39;Rekaman (49).wav&#39;, &#39;Rekaman (82).wav&#39;, &#39;Rekaman (9).wav&#39;, &#39;Rekaman (24).wav&#39;, &#39;Rekaman (37).wav&#39;, &#39;Rekaman (66).wav&#39;, &#39;Rekaman (62).wav&#39;, &#39;Rekaman.wav&#39;, &#39;Rekaman (8).wav&#39;, &#39;Rekaman (78).wav&#39;, &#39;Rekaman (71).wav&#39;, &#39;Rekaman (7).wav&#39;, &#39;Rekaman (22).wav&#39;, &#39;Rekaman (35).wav&#39;, &#39;Rekaman (52).wav&#39;, &#39;Rekaman (64).wav&#39;, &#39;Rekaman (39).wav&#39;, &#39;Rekaman (32).wav&#39;, &#39;Rekaman (59).wav&#39;, &#39;Rekaman (61).wav&#39;, &#39;Rekaman (77).wav&#39;, &#39;Rekaman (26).wav&#39;, &#39;Rekaman (4).wav&#39;, &#39;Rekaman (54).wav&#39;, &#39;Rekaman (2).wav&#39;, &#39;Rekaman (98).wav&#39;, &#39;Rekaman (69).wav&#39;, &#39;Rekaman (36).wav&#39;, &#39;Rekaman (48).wav&#39;, &#39;Rekaman (56).wav&#39;, &#39;Rekaman (12).wav&#39;, &#39;Rekaman (91).wav&#39;, &#39;Rekaman (72).wav&#39;, &#39;Rekaman (100).wav&#39;, &#39;Rekaman (28).wav&#39;, &#39;Rekaman (31).wav&#39;, &#39;Rekaman (79).wav&#39;]
--------------------------------------------------
PATH : rekaman_buka_tutup/user 1/tutup
DIRS : []
FILES: [&#39;Rekaman (99).wav&#39;, &#39;Rekaman (73).wav&#39;, &#39;Rekaman (68).wav&#39;, &#39;Rekaman (50).wav&#39;, &#39;Rekaman (67).wav&#39;, &#39;Rekaman (40).wav&#39;, &#39;Rekaman (81).wav&#39;, &#39;Rekaman (84).wav&#39;, &#39;Rekaman (45).wav&#39;, &#39;Rekaman (55).wav&#39;, &#39;Rekaman (21).wav&#39;, &#39;Rekaman (97).wav&#39;, &#39;Rekaman (94).wav&#39;, &#39;Rekaman (51).wav&#39;, &#39;Rekaman (23).wav&#39;, &#39;Rekaman (87).wav&#39;, &#39;Rekaman (90).wav&#39;, &#39;Rekaman (63).wav&#39;, &#39;Rekaman (30).wav&#39;, &#39;Rekaman (33).wav&#39;, &#39;Rekaman (46).wav&#39;, &#39;Rekaman (27).wav&#39;, &#39;Rekaman (89).wav&#39;, &#39;Rekaman (96).wav&#39;, &#39;Rekaman (47).wav&#39;, &#39;Rekaman (6).wav&#39;, &#39;Rekaman (88).wav&#39;, &#39;Rekaman (60).wav&#39;, &#39;Rekaman (86).wav&#39;, &#39;Rekaman (16).wav&#39;, &#39;Rekaman (83).wav&#39;, &#39;Rekaman (5).wav&#39;, &#39;Rekaman (15).wav&#39;, &#39;Rekaman (34).wav&#39;, &#39;Rekaman (41).wav&#39;, &#39;Rekaman (57).wav&#39;, &#39;Rekaman (38).wav&#39;, &#39;Rekaman (93).wav&#39;, &#39;Rekaman (95).wav&#39;, &#39;Rekaman (17).wav&#39;, &#39;Rekaman (13).wav&#39;, &#39;Rekaman (76).wav&#39;, &#39;Rekaman (75).wav&#39;, &#39;Rekaman (58).wav&#39;, &#39;Rekaman (65).wav&#39;, &#39;Rekaman (29).wav&#39;, &#39;Rekaman (18).wav&#39;, &#39;Rekaman (43).wav&#39;, &#39;Rekaman (92).wav&#39;, &#39;Rekaman (20).wav&#39;, &#39;Rekaman (70).wav&#39;, &#39;Rekaman (11).wav&#39;, &#39;Rekaman (44).wav&#39;, &#39;Rekaman (10).wav&#39;, &#39;Rekaman (42).wav&#39;, &#39;Rekaman (19).wav&#39;, &#39;Rekaman (85).wav&#39;, &#39;Rekaman (80).wav&#39;, &#39;Rekaman (74).wav&#39;, &#39;Rekaman (3).wav&#39;, &#39;Rekaman (53).wav&#39;, &#39;Rekaman (25).wav&#39;, &#39;Rekaman (14).wav&#39;, &#39;Rekaman (49).wav&#39;, &#39;Rekaman (82).wav&#39;, &#39;Rekaman (9).wav&#39;, &#39;Rekaman (24).wav&#39;, &#39;Rekaman (37).wav&#39;, &#39;Rekaman (66).wav&#39;, &#39;Rekaman (62).wav&#39;, &#39;Rekaman.wav&#39;, &#39;Rekaman (8).wav&#39;, &#39;Rekaman (78).wav&#39;, &#39;Rekaman (71).wav&#39;, &#39;Rekaman (7).wav&#39;, &#39;Rekaman (22).wav&#39;, &#39;Rekaman (35).wav&#39;, &#39;Rekaman (52).wav&#39;, &#39;Rekaman (64).wav&#39;, &#39;Rekaman (39).wav&#39;, &#39;Rekaman (32).wav&#39;, &#39;Rekaman (59).wav&#39;, &#39;Rekaman (61).wav&#39;, &#39;Rekaman (77).wav&#39;, &#39;Rekaman (26).wav&#39;, &#39;Rekaman (4).wav&#39;, &#39;Rekaman (54).wav&#39;, &#39;Rekaman (2).wav&#39;, &#39;Rekaman (98).wav&#39;, &#39;Rekaman (69).wav&#39;, &#39;Rekaman (36).wav&#39;, &#39;Rekaman (48).wav&#39;, &#39;Rekaman (56).wav&#39;, &#39;Rekaman (12).wav&#39;, &#39;Rekaman (91).wav&#39;, &#39;Rekaman (72).wav&#39;, &#39;Rekaman (100).wav&#39;, &#39;Rekaman (28).wav&#39;, &#39;Rekaman (31).wav&#39;, &#39;Rekaman (79).wav&#39;]
--------------------------------------------------
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari kode Python yang Anda berikan adalah untuk menelusuri secara rekursif (berulang) seluruh struktur direktori yang dimulai dari folder rekaman_buka_tutup dan mencetak konten dari setiap direktori yang ditemui.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># ============================</span>
<span class="c1"># 1. SET PATH DATA</span>
<span class="c1"># ============================</span>

<span class="n">BASE</span> <span class="o">=</span> <span class="s2">&quot;rekaman_buka_tutup/user 1&quot;</span>  <span class="c1"># GANTI SESUAI NAMA FOLDER ZIP BUKA-TUTUP</span>

<span class="n">OLD_DIRS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;buka&quot;</span><span class="p">:</span>  <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s2">&quot;buka&quot;</span><span class="p">),</span>
    <span class="s2">&quot;tutup&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s2">&quot;tutup&quot;</span><span class="p">),</span>
<span class="p">}</span>

<span class="n">NEW_FILES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># &quot;buka_baru&quot;: &quot;buka_baru.wav&quot;,</span>
    <span class="c1"># &quot;tutup_baru&quot;: &quot;tutup_baru.wav&quot;</span>
<span class="p">}</span>

<span class="c1"># ============================</span>
<span class="c1"># 2. FUNGSI EXTRACT MFCC</span>
<span class="c1"># ============================</span>

<span class="n">SR</span> <span class="o">=</span> <span class="mi">16000</span>
<span class="n">N_MFCC</span> <span class="o">=</span> <span class="mi">20</span>

<span class="k">def</span><span class="w"> </span><span class="nf">extract_mfcc</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">SR</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">N_MFCC</span><span class="p">):</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">mono</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">mfcc</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">mfcc</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">n_mfcc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mfcc</span>

<span class="c1"># ============================</span>
<span class="c1"># 3. COLLECT FILE DATA LAMA</span>
<span class="c1"># ============================</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mengumpulkan daftar file data lama...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">old_files</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">OLD_DIRS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Folder tidak ditemukan: </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">pattern</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;*.wav&quot;</span><span class="p">)</span>
    <span class="n">files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2"> â†’ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2"> file ditemukan&quot;</span><span class="p">)</span>
    <span class="n">old_files</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

<span class="c1"># ============================</span>
<span class="c1"># 4. EKSTRAK MFCC DATA LAMA</span>
<span class="c1"># ============================</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ekstrak MFCC untuk data lama...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">old_mfcc</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">old_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">old_mfcc</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;MFCC </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="n">old_mfcc</span><span class="p">[</span><span class="n">label</span><span class="p">][</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_mfcc</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># ============================</span>
<span class="c1"># 5. EKSTRAK MFCC UNTUK FILE BARU (Opsional)</span>
<span class="c1"># ============================</span>

<span class="n">new_mfcc</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">NEW_FILES</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ekstrak MFCC untuk file baru...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">NEW_FILES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File baru tidak ditemukan: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">new_mfcc</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_mfcc</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">SELESAI! MFCC berhasil diekstrak.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mengumpulkan daftar file data lama...

buka â†’ 100 file ditemukan
tutup â†’ 100 file ditemukan

Ekstrak MFCC untuk data lama...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MFCC buka: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:01&lt;00:00, 57.13it/s]
MFCC tutup: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:01&lt;00:00, 59.42it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SELESAI! MFCC berhasil diekstrak.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari kode Python ini adalah untuk memuat, mengumpulkan, dan mengekstrak fitur audio Mel-Frequency Cepstral Coefficients (MFCCs) dari sekumpulan file audio â€œlamaâ€ yang tersimpan dalam struktur folder tertentu. Ini merupakan tahap preprocessing atau ekstraksi fitur yang esensial dalam proyek analisis atau pengenalan suara.</p>
</section>
<section id="perhitungan-dtw">
<h2>Perhitungan DTW<a class="headerlink" href="#perhitungan-dtw" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Menghitung DTW...&quot;</span><span class="p">)</span>

<span class="c1"># Loop MFCC file baru</span>
<span class="k">for</span> <span class="n">new_name</span><span class="p">,</span> <span class="n">new_feat</span> <span class="ow">in</span> <span class="n">new_mfcc</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="c1"># Loop semua label lama</span>
    <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">file_list</span> <span class="ow">in</span> <span class="n">old_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="c1"># Loop setiap file lama dalam label tersebut</span>
        <span class="k">for</span> <span class="n">old_path</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">file_list</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;DTW </span><span class="si">{</span><span class="n">new_name</span><span class="si">}</span><span class="s2"> vs </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">leave</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

            <span class="c1"># Ambil MFCC lama</span>
            <span class="n">m_old</span> <span class="o">=</span> <span class="n">old_mfcc</span><span class="p">[</span><span class="n">label</span><span class="p">][</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">old_path</span><span class="p">)]</span>

            <span class="c1"># Hitung DTW</span>
            <span class="n">raw_cost</span><span class="p">,</span> <span class="n">norm_cost</span><span class="p">,</span> <span class="n">path_len</span> <span class="o">=</span> <span class="n">dtw_distance</span><span class="p">(</span><span class="n">m_old</span><span class="p">,</span> <span class="n">new_feat</span><span class="p">)</span>

            <span class="c1"># Simpan hasil</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;new_file&#39;</span><span class="p">:</span> <span class="n">new_name</span><span class="p">,</span>
                <span class="s1">&#39;old_label&#39;</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
                <span class="s1">&#39;old_path&#39;</span><span class="p">:</span> <span class="n">old_path</span><span class="p">,</span>
                <span class="s1">&#39;raw_cost&#39;</span><span class="p">:</span> <span class="n">raw_cost</span><span class="p">,</span>
                <span class="s1">&#39;normalized_cost&#39;</span><span class="p">:</span> <span class="n">norm_cost</span><span class="p">,</span>
                <span class="s1">&#39;path_len&#39;</span><span class="p">:</span> <span class="n">path_len</span>
            <span class="p">})</span>

<span class="c1"># Buat DataFrame dan simpan</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">OUT_CSV</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hasil tersimpan ke </span><span class="si">{</span><span class="n">OUT_CSV</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Menghitung DTW...
Hasil tersimpan ke dtw_results.csv
</pre></div>
</div>
</div>
</div>
<p>Tujuan utama dari potongan kode Python ini adalah untuk menghitung jarak kesamaan antara semua fitur audio â€œbaruâ€ dengan semua fitur audio â€œlamaâ€ menggunakan algoritma Dynamic Time Warping (DTW), lalu menyimpan hasil perbandingan tersebut ke dalam file CSV.</p>
</section>
<section id="kemiripan-data-lama-dan-baru">
<h2>Kemiripan data lama dan baru<a class="headerlink" href="#kemiripan-data-lama-dan-baru" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ============================</span>
<span class="c1"># 9. TAMPILKAN TOP 5 PALING MIRIP</span>
<span class="c1"># ============================</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top 5 file lama paling mirip untuk setiap file baru:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">new_name</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_file&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_file&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">new_name</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">== </span><span class="si">{</span><span class="n">new_name</span><span class="si">}</span><span class="s2"> ==&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;old_label&#39;</span><span class="p">,</span><span class="s1">&#39;old_path&#39;</span><span class="p">,</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisasi">
<h2>Visualisasi<a class="headerlink" href="#visualisasi" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span> <span class="c1"># &lt;--- PENTING: Import Pandas untuk DataFrame</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># ============================</span>
<span class="c1"># 1. SET PATH DATA (PERBAIKAN FOLDER NAME)</span>
<span class="c1"># ============================</span>

<span class="c1"># Pilih salah satu. Saya pilih &#39;user2&#39; dan menghilangkan spasi.</span>
<span class="n">BASE</span> <span class="o">=</span> <span class="s2">&quot;rekaman_buka_tutup/user2&quot;</span>
<span class="c1"># BASE = &quot;rekaman_buka_tutup/user 1&quot;</span>

<span class="n">OLD_DIRS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;buka&quot;</span><span class="p">:</span>  <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s2">&quot;buka&quot;</span><span class="p">),</span>
    <span class="s2">&quot;tutup&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s2">&quot;tutup&quot;</span><span class="p">),</span>
<span class="p">}</span>

<span class="n">NEW_FILES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># Jika Anda memiliki file baru, aktifkan baris di bawah:</span>
    <span class="c1"># &quot;buka_baru&quot;: &quot;buka_baru.wav&quot;,</span>
    <span class="c1"># &quot;tutup_baru&quot;: &quot;tutup_baru.wav&quot;</span>
<span class="p">}</span>

<span class="c1"># ============================</span>
<span class="c1"># 2. FUNGSI EXTRACT MFCC</span>
<span class="c1"># ============================</span>

<span class="n">SR</span> <span class="o">=</span> <span class="mi">16000</span>
<span class="n">N_MFCC</span> <span class="o">=</span> <span class="mi">20</span>

<span class="k">def</span><span class="w"> </span><span class="nf">extract_mfcc</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">SR</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">N_MFCC</span><span class="p">):</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">mono</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">mfcc</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">mfcc</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="n">n_mfcc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mfcc</span>

<span class="c1"># ============================</span>
<span class="c1"># 3. COLLECT FILE DATA LAMA</span>
<span class="c1"># ============================</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mengumpulkan daftar file data lama...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">old_files</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">OLD_DIRS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Folder tidak ditemukan: </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">pattern</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;*.wav&quot;</span><span class="p">)</span>
    <span class="n">files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2"> â†’ </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2"> file ditemukan&quot;</span><span class="p">)</span>
    <span class="n">old_files</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

<span class="c1"># ============================</span>
<span class="c1"># 4. EKSTRAK MFCC DATA LAMA</span>
<span class="c1"># ============================</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ekstrak MFCC untuk data lama...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">old_mfcc</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">old_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">old_mfcc</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;MFCC </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="n">old_mfcc</span><span class="p">[</span><span class="n">label</span><span class="p">][</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_mfcc</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># ============================</span>
<span class="c1"># 5. EKSTRAK MFCC UNTUK FILE BARU (Opsional)</span>
<span class="c1"># ============================</span>

<span class="n">new_mfcc</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">NEW_FILES</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ekstrak MFCC untuk file baru...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">NEW_FILES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File baru tidak ditemukan: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">new_mfcc</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_mfcc</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># 6. HITUNG DTW &amp; BUAT DATAFRAME HASIL (BAGIAN YANG HILANG)</span>
<span class="c1"># ==========================================================</span>
<span class="c1"># **INI ADALAH LANGKAH KRITIS UNTUK MEMBUAT DATAFRAME df**</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Menghitung DTW dan membuat DataFrame hasil...&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Penentuan Target MFCC:</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_mfcc</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c1"># Jika ada file baru (misalnya buka_baru), gunakan itu sebagai target</span>
    <span class="n">target_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">new_mfcc</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">m_target</span> <span class="o">=</span> <span class="n">new_mfcc</span><span class="p">[</span><span class="n">target_name</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target perbandingan: File baru &#39;</span><span class="si">{</span><span class="n">target_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Jika TIDAK ada file baru, kita gunakan file pertama dari &#39;buka&#39; sebagai target dummy</span>
    <span class="c1"># untuk perbandingan semua file lama.</span>
    <span class="k">if</span> <span class="s1">&#39;buka&#39;</span> <span class="ow">in</span> <span class="n">old_mfcc</span> <span class="ow">and</span> <span class="n">old_mfcc</span><span class="p">[</span><span class="s1">&#39;buka&#39;</span><span class="p">]:</span>
        <span class="n">target_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">old_mfcc</span><span class="p">[</span><span class="s1">&#39;buka&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">m_target</span> <span class="o">=</span> <span class="n">old_mfcc</span><span class="p">[</span><span class="s1">&#39;buka&#39;</span><span class="p">][</span><span class="n">target_path</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target perbandingan: File pertama &#39;buka&#39; (</span><span class="si">{</span><span class="n">target_path</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Fallback jika tidak ada data sama sekali</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR: Tidak ada data MFCC untuk perbandingan.&quot;</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">()</span>


<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">mfccs</span> <span class="ow">in</span> <span class="n">old_mfcc</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">old_path</span><span class="p">,</span> <span class="n">m_old</span> <span class="ow">in</span> <span class="n">mfccs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="c1"># Hitung DTW Cost: m_old dibandingkan dengan m_target</span>
        <span class="n">D</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">sequence</span><span class="o">.</span><span class="n">dtw</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">m_old</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">m_target</span><span class="p">)</span>
        <span class="n">dtw_cost</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Normalisasi cost (dibagi dengan panjang alignment path)</span>
        <span class="n">normalized_cost</span> <span class="o">=</span> <span class="n">dtw_cost</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">wp</span><span class="p">)</span>

        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;old_path&#39;</span><span class="p">:</span> <span class="n">old_path</span><span class="p">,</span>
            <span class="s1">&#39;old_label&#39;</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
            <span class="s1">&#39;normalized_cost&#39;</span><span class="p">:</span> <span class="n">normalized_cost</span><span class="p">,</span>
        <span class="p">})</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DataFrame df berhasil dibuat dengan </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2"> baris.&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">SELESAI EKSTRAKSI DAN PERHITUNGAN!&quot;</span><span class="p">)</span>

<span class="c1"># --- VISUALISASI DIMULAI DARI SINI ---</span>
<span class="c1"># =========================================================================</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Menyiapkan visualisasi...&quot;</span><span class="p">)</span>

<span class="c1"># Pastikan df punya kolom: old_file, old_label, normalized_cost</span>
<span class="n">summary</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;old_label&#39;</span><span class="p">])[</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># =============================</span>
<span class="c1"># 1. BARPLOT rata-rata cost per label lama</span>
<span class="c1"># =============================</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">summary</span><span class="p">[</span><span class="s1">&#39;old_label&#39;</span><span class="p">],</span> <span class="n">summary</span><span class="p">[</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Rata-rata Normalized DTW Cost per Label Lama&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Normalized DTW Cost (Lower = Better)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Label Lama&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># =============================</span>
<span class="c1"># 2. HISTOGRAM distribusi cost setiap label lama</span>
<span class="c1"># =============================</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;old_label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;old_label&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">label</span><span class="p">][</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">subset</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Normalized DTW Cost per Label Lama&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Normalized DTW Cost&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frequency&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># =============================</span>
<span class="c1"># 3. SCATTER PLOT cost semua file</span>
<span class="c1"># =============================</span>
<span class="n">df_sorted</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_sorted</span><span class="p">)),</span> <span class="n">df_sorted</span><span class="p">[</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Scatter Plot Normalized DTW Cost&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;File index (Old files)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Normalized DTW Cost&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># =============================</span>
<span class="c1"># 4. DTW Alignment untuk file lama terbaik</span>
<span class="c1"># =============================</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Visualisasi Warp Path (DTW Alignment) untuk file terbaik:&quot;</span><span class="p">)</span>

<span class="n">best_match</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;normalized_cost&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">best_old_file</span> <span class="o">=</span> <span class="n">best_match</span><span class="p">[</span><span class="s1">&#39;old_path&#39;</span><span class="p">]</span>
<span class="n">best_old_label</span> <span class="o">=</span> <span class="n">best_match</span><span class="p">[</span><span class="s1">&#39;old_label&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File lama terbaik: </span><span class="si">{</span><span class="n">best_old_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">m_old_best</span> <span class="o">=</span> <span class="n">old_mfcc</span><span class="p">[</span><span class="n">best_old_label</span><span class="p">][</span><span class="n">best_old_file</span><span class="p">]</span>

<span class="c1"># Sekarang m_old_best dibandingkan dengan m_target yang sudah ditentukan di Langkah 6</span>
<span class="n">D</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">sequence</span><span class="o">.</span><span class="n">dtw</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">m_old_best</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">m_target</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">wp</span><span class="p">],</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">wp</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DTW Cost Matrix &amp; Warp Path</span><span class="se">\n</span><span class="si">{</span><span class="n">best_old_file</span><span class="si">}</span><span class="s2"> vs Target&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time Index (Target)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Time Index (Best File)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mengumpulkan daftar file data lama...

buka â†’ 100 file ditemukan
tutup â†’ 100 file ditemukan

Ekstrak MFCC untuk data lama...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MFCC buka: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:02&lt;00:00, 44.27it/s]
MFCC tutup: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:02&lt;00:00, 37.67it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Menghitung DTW dan membuat DataFrame hasil...
Target perbandingan: File pertama &#39;buka&#39; (rekaman_buka_tutup/user2/buka/buka1 (1).wav)
DataFrame df berhasil dibuat dengan 200 baris.

SELESAI EKSTRAKSI DAN PERHITUNGAN!

Menyiapkan visualisasi...
</pre></div>
</div>
<img alt="_images/b24373f01ad1f7fbc2f08d025d260de3bf56ae17d3a08a6e5d45c942d3b82122.png" src="_images/b24373f01ad1f7fbc2f08d025d260de3bf56ae17d3a08a6e5d45c942d3b82122.png" />
<img alt="_images/e09f0fc3c4e26a5bf22d269b5c25f51556ce2b71aca0305deda42a84fcda095f.png" src="_images/e09f0fc3c4e26a5bf22d269b5c25f51556ce2b71aca0305deda42a84fcda095f.png" />
<img alt="_images/48901b854a0410236cb60e34f86c0aa43f25cb857b08b05e1f117699a270db5f.png" src="_images/48901b854a0410236cb60e34f86c0aa43f25cb857b08b05e1f117699a270db5f.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Visualisasi Warp Path (DTW Alignment) untuk file terbaik:
File lama terbaik: rekaman_buka_tutup/user2/buka/buka1 (1).wav
</pre></div>
</div>
<img alt="_images/f624f8074f7140c364ff78b4197c4fe9744763c7d59645612549d6db0da5ace8.png" src="_images/f624f8074f7140c364ff78b4197c4fe9744763c7d59645612549d6db0da5ace8.png" />
</div>
</div>
<p>Tujuan utama dari keseluruhan kode Python ini adalah untuk menganalisis kemiripan fitur audio dari sekumpulan file â€œlamaâ€ terhadap sebuah file audio â€œtargetâ€ menggunakan Mel-Frequency Cepstral Coefficients (MFCCs) dan Dynamic Time Warping (DTW), lalu memvisualisasikan hasil perbandingan tersebut.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="2uservoicerecording.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Sistem Identifikasi Suara</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library-dan-set-path">Import Library dan Set Path</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-extrac-dan-dtw">Fungsi extrac dan DTW</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collect-data-lama-dan-ekstrak-mfcc">Collect data lama dan ekstrak mfcc</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-dtw">Perhitungan DTW</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kemiripan-data-lama-dan-baru">Kemiripan data lama dan baru</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi">Visualisasi</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Amelia Safitri
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>